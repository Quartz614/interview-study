2023/01/16

### 🧑‍💻 **기술블로깅 TechBlog** 🪚

<aside>
💡 Context Switching

</aside>

* 공부를 위해서 하는 블로깅으로 잘못된 정보가 있을 수 있습니다.

<br><br>

## [ OS ] 컨텍스트 스위칭

**🔩 컨텍스트 스위칭**

---

**프로세스의 상태 또는 레지스터 값(Context)을 교체하는 작업**

*여러 프로세스를 처리해야 하는 상황에서 현재 진행중인 Task(프로세스/스레드)의 상태를 PCB에 저장 후 다음에 진행할 Task의 상태값을 레지스터에 적재하는 과정*

여러개의 프로세스가 실행되고 있을 때 기존에 실행되던 프로세스를 중단하고 다른 프로세스를 실행하는 것 

컨텍스트 스위칭을 진행하는 동안 다른 작업은 할 수 없음 → 오버헤드 원인

CPU에 실행할 프로세스를 교체하는 기술

<br><br>

**+ PCB**

---

Process Control Block

프로세스가 실행중인 상태를 스냅샷 찍어 저장하는 공간

<br><br>

**+ PCB 저장 정보**

---

- Process ID (PID)
- 레지스터 값 (PC, SP 등)
- Scheduling info (프로세스 상태)
- Meomory info (메모리 사이즈 linit) - 전체 프로세스 사이즈 등
- 기타

<br><br>

**+ 컨텍스트 스위칭 진행 과정**

---

1. **인터럽트/시스템 호출**
    
    운영체제에서 프로세스 스케쥴러에 의해 인터럽트 발생
    
2. **커널 모드 전환**
    
    프로세스가 사용자 모드 executing 에서 커널 모드 idle로 전환 
    
    프로세스가 CPU 점유 -> 대기로 상태변경
    
3. **현재 프로세스 상태 PCB 저장**
    
    프로세스 정보를 PCB에 저장
    
4. **다음 실행 프로세스 로드**
    
    PCB에 있는 다음 실행 프로세스 상태 정보 복구
    
5. **사용자 모드 전환**
    
    다음 프로세스 커널 모드에서 사용자 모드로 전환하여 실행
    

<br><br>

🔩 **예비 답변**

---

Q. 컨텍스트 스위칭에 대해 말해보세요.

**컨텍스트 스위칭이란** 여러 프로세스를 처리해야 하는 상황에서 현재 진행중인 프로세스의 상태를 PCB에 저장 후 다음에 진행할 프로세스의 상태값을 레지스터에 적재하는, **프로세스의 상태 또는 레지스터 값을 교체하는 작업**입니다. 

한 프로세스의 상태는 그 프로세스의 PCB에 기록되며, 컨텍스트 스위칭을 진행하는 동안에는 다른 작업을 수행할 수 없어 오버헤드의 원인이 되기도 합니다.

컨텍스트 스위칭은 현재 프로세스의 상태를 PCB에 저장하고, 다음 프로세스를 선탣 후 PCB를 복원하고, PCB의 프로그램 레지스터가 로드되어 선택한 프로세스를 실행하는 순서로 진행됩니다.

<br><br>

🔩 **참고**

---

블로그

[OS - Context Switch(컨텍스트 스위치)가 무엇인가?](https://jeong-pro.tistory.com/93)

[운영체제 5: 컨텍스트 스위칭 (Context Switching)](https://hyunie-y.tistory.com/31)

[[OS] 컨텍스트 스위칭(Context Switching)](https://gaeunhan.tistory.com/70#recentEntries)

<br><br>

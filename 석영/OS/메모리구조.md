## 🔎 **메모리 구조 란?**

프로그램들을 실행하려면 프로그램이 메모리(RAM) 위에 올라가야 한다. 그리고 프로그램 내의 여러 변수를 저장하기 위한 메모리 공간이 필요하다. 통상적으로 메모리 구조는 코드, 데이터, 힙, 스택 영역으로 구분된다.

![image](https://user-images.githubusercontent.com/96826217/212091122-006a88a7-bfd9-42b0-b380-8a08defc6f6a.png)
![image](https://user-images.githubusercontent.com/96826217/212091171-43831f1c-2415-4577-811b-53c1c213043e.png)


### **⚈ 코드(Code) 영역**

코드 영역은 실행할 프로그램의 코드가 저장되는 장소이다. 코드는 우리가 읽을 수 있는 형태가 아닌, 기계어로 저장되며 프로그램 실행에 필요한 코드들이기 때문에 프로그램 실행부터 종료 시까지 존재한다. 또한 코드 영역은 컴파일 타임에 결정되어 저장된다. 또한 프로그램 실행 도중에 작성한 코드가 변경되면 안 되기 때문에 읽기만 가능하다.

-   작성한 소스코드가 저장되는 영역, 기계어 형태로(0, 1)로 저장된다.
-   실행 파일을 구성하는 명령어들이 올라가는 메모리 영역으로 함수, 제어문, 상수 등이 여기에 저장된다.
-   CPU는 코드 영역에 저장된 명령어들을 하나씩 가져가서 실행한다.

### **⚈ 데이터(Data) 영역**

데이터 영역에는 전역(global) 변수와, 정적(Static) 변수가 저장된다. 이 또한 프로그램이 실행되고 종료될때 까지 메모리에 존재한다. 

-   전역 변수와 static 변수가 할당되는 영역
-   main함수 전에 선언되어 프로그램의 시작과 동시에 할당되고 프로그램이 종료되어야 메모리에서 소멸된다.

### **⚈ 힙(Heap) 영역**

힙 영역은 사용자가 동적으로 할당할 수 있는 공간이다. 컴파일 타임이 아닌, 런타임에 그 크기가 정해진다. 위의 그림에서 보이는 것처럼 힙 영역은 낮은 메모리 주소에서 높은 메모리 주소 방향으로 메모리를 차지하게 된다. 또한 스택과 메모리 공간을 공유하기 때문에 힙 영역이 커지면 스택 영역이 작아지고, 힙 영역이 작아지면 스택 영역이 커진다. 

-   동적으로 할당된 변수가 할당되는 영역
-   영역 중 유일하게 런타임 시 크기가 결정된다.
-   메모리 위쪽 주소부터 할당되는 선입선출 구조이다.

### **⚈ 스택(Stack) 영역**

스택 영역은 컴파일 타임에 크기가 결정되는 영역이며, 주로 지역 변수나 매개 변수, 반환값 등을 저장한다. 스택 영역에 저장되는 함수의 호출 정보를 "스택 프레임"이라고 부른다. 컴파일 타임에 결정되다 보니, 힙 영역과 달리 동적으로 할당/해제를 해줄 수 없고, 함수가 실행되면 스택 영역에 올라오게 되고, 함수가 종료되면 그 함수 내의 매개변수, 지역변수 등이 해제된다. 즉, 함수의 실행/종료에 따라 메모리의 할당/해제가 정해진다. 또한 CPU에 의해 관리되어 힙 영역에 비해 빠른 속도를 가진다는 장점이 있다.

-   함수 호출 시 생성되는 지역 변수와 매개 변수가 저장되는 영역
-   함수 호출이 완료되면 저장된 메모리도 해제된다.
-   메모리 아래쪽 주소부터 할당되는 후입선출 구조이다.

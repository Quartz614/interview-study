## **📌 알림**
> 해당 글은 공부 목적으로 작성한 글입니다.

<br>

## **📌 PCB(Process Control Block)**
> **PCB(Process Control Block)**  
> 운영체제가 프로세스를 제어하기 위해 정보를 저장해 놓는 곳으로, 프로세스의 상태 정보를 저장하는 구조체이다.  
> <br>  
> **특징**  
> \- 프로세스 상태 관리와 컨텍스트 스위칭(Context Switching)을 위해 필요하다.  
> \- PCB는 프로세스 생성 시 만들어지며 주기억장치에 유지된다.

<br>

## **📌 컨텍스트 스위칭(Context Switching)**
> **컨텍스트(Context)**  
> CPU가 해당 프로세스를 실행하기 위한 프로세스의 정보들을 말한다.  
> <br>  
> **컨텍스트 스위칭(Context Switching)**  
> CPU가 어떤 프로세스를 실행하고 있는 상태에서 인터럽트에 의해 다음 우선 순위를 가진 프로세스가 실행되어야 할 때, 기존의 프로세스 정보들은 PCB에 저장하고 다음 프로세스의 정보를 PCB에서 가져와 교체하는 작업을 말한다.  
> <br>  
> **특징**  
> \-  다음에 실행할 Task의 PCB 정보를 읽어 Register에 적재하고, CPU가 이전에 진행했던 과정을 연속적으로 수행한다.  
> \-  컨텍스트 스위칭을 진행하는 동안 다른 작업을 할 수 없어 오버헤드의 원인이 된다.  
> <br>  
> **진행 과정**  
> 1\. CPU가 다른 프로세스로 전환하면 시스템은 프로세스의 상태를 PCB에 저장한다.  
> 2\. 대기열에서 다음 프로세스를 선택하고 PCB를 복원한다.  
> 3\. PCB의 PC, 프로그램 카운터가 로드되어 선택한 프로세스에서 실행을 계속한다.  
>   
> ※ 레지스터(Register) : CPU 내부의 요청을 처리하는 데 필요한 데이터를 일시적으로 저장하는 작은 기억장치  
> ※ 오버헤드(OverHead) : 어떤 처리를 하기 위해 들어가는 간접적인 처리 시간, 메모리 자원 등을 말함

<br>

## **📌 프로세스(Process)**
> **프로세스(Process)**  
> 컴퓨터에서 실행 중인 프로그램을 말한다.  
> 하드디스크에 있는 프로그램을 실행하면 실행을 위해 메모리 할당이 이루어지고, 할당된 메모리 공간으로 바이너리 코드가 올라가는데, 이 순간부터 프로세스라고 불린다.  
> <br>  
> **특징**  
> \- 고유한 공간과 자원을 할당 받음  
> \- code, data, stack, heap 영역을 보유함  
> \- 각각의 영역을 갖기에 동기화 작업이 필요하지 않음.  
> \- 컨텍스트 스위칭 비용이 큼  
> <br>  
> **프로세스의 메모리 구조**  
> **[메모리 구조 참조](https://mozzi329.tistory.com/124)**  
> <br>  
> **프로세스 스케쥴링**  
> 기본적으로 프로세스는 스레드(Thread) 단위 스케쥴링을 한다. 스케쥴링을 통해 CPU 할당 순서와 방법을 결정하며 대부분의 OS에서는 우선순위 알고리즘 혹은 라운드 로빈 알고리즘을 혼합해서 스케쥴링 하고 있다.  
> <br>  
> **프로세스의 상태변화**  
> 프로세스의 상태로 Create, Ready, Running, Blocked, Terminate 상태가 있다.  
> Create : 프로세스의 PCB가 생성되면서 프로세스가 메인 메모리에 적재되어 실행 준비를 마친 상태  
> Ready : 프로세스가 CPU를 얻을 때까지 자신의 차례를 순서대로 기다리는 상태  
> Running : Ready Queue에 있던 프로세스가 자신의 차례를 부여받아 실제로 수행되는 상태  
> Blocked : 프로세스가 실행 상태에서 입출력이 발생했을 때, CPU가 입출력 관리자에게 작업을 맡기고 프로세스는 대기하는 상태  
> Terminate : 프로세스가 자신의 작업을 모두 마치고 운영체제가 PCB를 제거하여 메인 메모리에서 프로세스가 빠져나간 상태  
> <br>  
> **프로세스의 생성 과정**  
> 1\. PCB가 생성되며 OS가 실행한 프로그램의 코드를 읽어들여 프로세스에 할당된 메모리의 Text 영역에 저장.  
> 2\. 초기화된 전역 변수 및 static 변수를 Data 영역에 할당.  
> 3\. Heap 영역과 Stack 영역은 초기 메모리 주소만 초기화됨.  
> 4\. PCB에 여러 정보가 기록되면 Ready Queue에서 CPU를 할당받기까지 대기.  
> <br>  
> **멀티 프로세스(Multi Process)**  
> 하나의 프로그램을 여러 개의 프로세스로 구성하여 프로세스가 병렬적으로 작업을 수행하는 것을 말한다.  
> 하나의 프로세스가 죽더라도 다른 프로세스에 영향을 끼치지 않는다는 장점이 있지만, 멀티 스레드보다 많은 메모리 공간을 차지한다는 단점이 있다.

<br>

## **📌 스레드(Thread)**
> **스레드(Thread)**  
> 프로세스(process) 내에서 실제로 작업을 수행하는 주체를 말한다.  
> <br>  
> **특징**  
> \- Stack 영역만 고유한 영역을 가지며, 나머지 영역은 프로세스 자원을 공유한다.  
> \- Stack 이외의 영역을 공유하므로 동기화 작업이 필요하다.  
> \- 컨텍스트 스위칭 비용이 적음  
> <br>  
> **멀티 스레드(Multi Thread)**  
> 하나의 프로세스를 여러 개의 스레드로 구성하여 자원을 공유하면서 작업을 수행하는 것을 말한다.  
> 멀티 프로세스보다 적은 메모리 공간을 차지하고 컨텐스트 스위칭이 빠르다는 장점이 있지만, 오류로 인해 하나의 스레드가 종료되면 전체 스레드가 종료될 수 있다는 점과 동기화 작업이 필요하다는 단점이 있다.

<br>

## **📌 모의 면접**
> **스레드와 프로세스에 대해 설명해주세요.**  
> ---
> 
> 스레드는 프로세스 내에서 실제로 작업을 수행하는 주체를 말합니다.  
> Stack 영역만 고유한 영역을 가지며, 나머지 영역을 프로세스 자원을 공유합니다. Stack 이외의 영역을 공유하므로 동기화 작업이 필요하나, 컨텍스트 스위칭에 드는 비용이 적습니다.  
>   
> 프로세스는 컴퓨터에서 실행 중인 프로그램을 말합니다.  
> 하드디스크에 있는 프로그램을 실행하면 실행을 위해 메모리 할당이 이루어지고, 할당된 메모리 공간으로 바이너리 코드가 올라가는데, 이 순간부터 프로세스라고 불립니다. 프로세스는 각각의 고유한 공간을 할당받으며, Code, Data, Stack, Heap 영역을 보유합니다. 각각의 영역이 존재해 동기화 작업이 필요 없으나 메모리를 많이 차지해 컨텍스트 스위칭 비용이 많이 든다는 특징이 있습니다.  
> <br>
>   
> **컨텍스트 스위칭에 대해 설명해주세요.**  
> ---
> 
> 컨텍스트 스위칭은 CPU가 어떤 프로세스를 실행하고 있는 상태에서 인터럽트에 의해 다음 우선 순위를 가진 프로세스가 실행되어야 할 때, 기존의 프로세스 정보들은 PCB에 저장하고 다음 프로세스의 정보를 PCB에서 가져와 교체하는 작업을 말합니다. 다음에 실행할 Task의 PCB 정보를 읽어 Register에 적재하고, CPU가 이전에 진행했던 과정을 연속적으로 수행합니다. 컨텍스트 스위칭을 진행하는 동안 다른 작업을 할 수 없기 때문에 오버헤드의 원인이 됩니다.   
> <br>
> 
> **컨텐스트 스위칭의 진행 과정에 대해 설명해주세요. (+⍺)**  
> ---
> 
> 먼저 CPU가 다른 프로세스로 전환하면 시스템은 프로세스의 상태를 PCB에 저장합니다. 작업이 완료되면 대기열에서 다음 프로세스를 선택하고 PCB를 복원합니다. 그 후 복원한 PCB에 존재하는 프로그램 카운터가 로드되어 선택한 프로세스에서 실행을 계속 진행합니다.  
> <br>
>   
> **크롬 브라우저의 탭은 스레드인가요? 프로세스인가요? (+⍺)**  
> ---
> 
> 크롬은 탭마다 PID 번호를 가지고 있으므로 프로세스이며, 각 탭마다 랜더링 정보나 기타 데이터를 따로 관리합니다. 그로 인해 메모리를 많이 잡아먹긴 하지만, 하나의 탭에 오류가 생겼다고 모든 탭에 영향을 끼치진 않는다는 장점이 있습니다.  
> <br>
>   
> **멀티 스레드와 멀티 프로세스에 대해 설명해주세요.** 
> ---
> 
> 멀티 스레드는 하나의 프로세스를 여러 개의 스레드로 구성하여 자원을 공유하면서 병렬적으로 스레드를 수행하는 것을 말합니다.  
> 멀티 프로세스보다 적은 메모리 공간을 차지하고 컨텍스트 스위칭 역시 빠르다는 장점이 있지만, 오류로 인해 하나의 스레드가 종료되면 전체 스레드가 종료될 수 있다는 단점이 있습니다.  
>   
> 멀티 프로세스는 하나의 프로그램을 여러 개의 프로세스로 구성하여 프로세스가 작업을 병렬적으로 수행하는 것을 말합니다.  
> 하나의 프로세스가 죽더라도 다른 프로세스에 영향을 끼치지 않는다는 장점이 있지만, 멀티 스레드보다 많은 메모리 공간을 차지한다는 단점이 있습니다.  
> <br>
>   
> **실제 멀티 프로세스 보다는 멀티 스레드를 사용하는 이유가 무엇인가요? (+⍺)**  
> ---
> 
> 먼저는 프로그램을 여러 개 키는 것보다는 하나의 프로그램 안에서 여러 작업을 해결하는 것이 더욱 효율적이기 떄문입니다. 또한 컨텍스트 스위칭 시 Stack 영역만 초기화하면 되기 때문에 더욱 빠르고, 프로세스를 생성하여 자원을 할당하는 콜이 줄어들어 자원을 더욱 효율적으로 관리할 수 있기 때문에 멀티 프로세스보다는 멀티 스레드를 사용합니다.  
> <br>
>   
> **스레드마다 스택을 독립적으로 할당하는 이유가 무엇인가요? (+⍺)**  
> ---
> 
> 독립적인 실행 흐름을 만들기 위해서 스레드마다 스택을 할당해야 합니다.  
> 스택 메모리 공간이 독립적이라는 것은 독립적인 함수 호출이 가능함을 의미하며, 이는 독립적인 실행 흐름이 추가된다는 것을 의미합니다.  
> <br> 
>  
> **스레드마다 PC 레지스터를 독립적으로 할당하는 이유가 무엇인가요? (+⍺)**  
> ---
> 
> PC 값은 스레드가 명령어를 어디까지 수행헀는지를 나타내며, 스레드는 명령어를 연속적으로 수행하지 못하기 때문에 이를 기억할 필요가 있어 독립적으로 할당됩니다.
